Index: app/src/main/java/com/example/shareshelf/MyProfile.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.shareshelf;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.Nullable;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.ImageView;\r\nimport android.widget.TextView;\r\n\r\nimport com.google.android.gms.tasks.OnSuccessListener;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.auth.FirebaseAuthException;\r\nimport com.google.firebase.database.ChildEventListener;\r\nimport com.google.firebase.database.DataSnapshot;\r\nimport com.google.firebase.database.DatabaseError;\r\nimport com.google.firebase.database.DatabaseReference;\r\nimport com.google.firebase.database.FirebaseDatabase;\r\nimport com.google.firebase.database.Query;\r\nimport com.google.firebase.database.ValueEventListener;\r\nimport com.google.firebase.firestore.CollectionReference;\r\nimport com.google.firebase.firestore.FirebaseFirestore;\r\nimport com.google.firebase.firestore.FirebaseFirestoreSettings;\r\n\r\npublic class MyProfile extends AppCompatActivity {\r\n\r\n    ImageView menu, modifyAccount;\r\n    Button mybooked, myfeedback, donation;\r\n    TextView name, surname, phonenumber, email, rating, points, address;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_my_profile);\r\n\r\n        menu = findViewById(R.id.btnMenu);\r\n        menu.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Intent intent = new Intent(MyProfile.this, Menu.class);\r\n                startActivity(intent);\r\n            }\r\n        });\r\n\r\n        mybooked = findViewById(R.id.btn_toBookedNoticeboard);\r\n        mybooked.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Intent intent = new Intent(MyProfile.this, MyNoticeboard.class);\r\n                startActivity(intent);\r\n            }\r\n        });\r\n\r\n        donation= findViewById(R.id.btn_toDonation);\r\n        donation.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Intent intent = new Intent(MyProfile.this, PointsDonation.class);\r\n                startActivity(intent);\r\n            }\r\n        });\r\n\r\n        modifyAccount = findViewById(R.id.btnModifyAccount);\r\n        modifyAccount.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Intent intent = new Intent(MyProfile.this, ModifyProfile.class);\r\n                startActivity(intent);\r\n            }\r\n        });\r\n\r\n        //FirebaseDatabase databaseProfile = FirebaseDatabase.getInstance();\r\n\r\n        name = findViewById(R.id.TextViewName);\r\n        surname = findViewById(R.id.TextViewLastname);\r\n        phonenumber = findViewById(R.id.tv_phoneNumber);\r\n        email = findViewById(R.id.tv_email);\r\n        rating = findViewById(R.id.tv_rating);\r\n        points = findViewById(R.id.tv_points);\r\n        address = findViewById(R.id.tv_address);\r\n\r\n        FirebaseFirestore db = FirebaseFirestore.getInstance();\r\n\r\n        // -------------- DOBBIAMO VEDERE ----------------\r\n        FirebaseFirestoreSettings settings = new FirebaseFirestoreSettings.Builder()\r\n                .setPersistenceEnabled(true)\r\n                .build();\r\n        db.setFirestoreSettings(settings);\r\n        // ------------------------------------------------\r\n\r\n        String Name = name.getText().toString().trim();\r\n        String Surname = surname.getText().toString().trim();\r\n        String Phone = phonenumber.getText().toString().trim();\r\n        String Rating = rating.getText().toString().trim();\r\n        String Email = email.getText().toString().trim();\r\n        String Points = points.getText().toString().trim();\r\n        String Address = address.getText().toString().trim();\r\n\r\n        Users user = new Users(Surname, Email, Address, Name, Integer.parseInt(Points), Phone);\r\n\r\n        String uid = FirebaseAuth.getInstance().getCurrentUser().getUid();\r\n        /*\r\n        FirebaseFirestore ref = FirebaseFirestore.getInstance();\r\n        CollectionReference usersRef = ref.collection(\"Utenti\");\r\n        usersRef.document(uid).set(user);\r\n        */\r\n\r\n        db.collection(\"Utenti\").document(uid).set(user);\r\n\r\n        name.setText(user.getName());\r\n        surname.setText(user.getSurname());\r\n        phonenumber.setText(user.getPhoneNumber());\r\n        email.setText(user.getEmail());\r\n        points.setText(String.valueOf(user.getPoints()));\r\n        address.setText(user.getAddress());\r\n        rating.setText(\"0\");\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/example/shareshelf/MyProfile.java b/app/src/main/java/com/example/shareshelf/MyProfile.java
--- a/app/src/main/java/com/example/shareshelf/MyProfile.java	(revision f17855d262b02670b535df05d48b8390ae04a187)
+++ b/app/src/main/java/com/example/shareshelf/MyProfile.java	(date 1672914641131)
@@ -14,6 +14,7 @@
 import com.google.android.gms.tasks.OnSuccessListener;
 import com.google.firebase.auth.FirebaseAuth;
 import com.google.firebase.auth.FirebaseAuthException;
+import com.google.firebase.auth.FirebaseUser;
 import com.google.firebase.database.ChildEventListener;
 import com.google.firebase.database.DataSnapshot;
 import com.google.firebase.database.DatabaseError;
@@ -25,6 +26,8 @@
 import com.google.firebase.firestore.FirebaseFirestore;
 import com.google.firebase.firestore.FirebaseFirestoreSettings;
 
+import java.util.ArrayList;
+
 public class MyProfile extends AppCompatActivity {
 
     ImageView menu, modifyAccount;
@@ -72,8 +75,6 @@
             }
         });
 
-        //FirebaseDatabase databaseProfile = FirebaseDatabase.getInstance();
-
         name = findViewById(R.id.TextViewName);
         surname = findViewById(R.id.TextViewLastname);
         phonenumber = findViewById(R.id.tv_phoneNumber);
@@ -82,53 +83,5 @@
         points = findViewById(R.id.tv_points);
         address = findViewById(R.id.tv_address);
 
-        FirebaseFirestore db = FirebaseFirestore.getInstance();
-
-        // -------------- DOBBIAMO VEDERE ----------------
-        FirebaseFirestoreSettings settings = new FirebaseFirestoreSettings.Builder()
-                .setPersistenceEnabled(true)
-                .build();
-        db.setFirestoreSettings(settings);
-        // ------------------------------------------------
-
-        String Name = name.getText().toString().trim();
-        String Surname = surname.getText().toString().trim();
-        String Phone = phonenumber.getText().toString().trim();
-        String Rating = rating.getText().toString().trim();
-        String Email = email.getText().toString().trim();
-        String Points = points.getText().toString().trim();
-        String Address = address.getText().toString().trim();
-
-        Users user = new Users(Surname, Email, Address, Name, Integer.parseInt(Points), Phone);
-
-        String uid = FirebaseAuth.getInstance().getCurrentUser().getUid();
-        /*
-        FirebaseFirestore ref = FirebaseFirestore.getInstance();
-        CollectionReference usersRef = ref.collection("Utenti");
-        usersRef.document(uid).set(user);
-        */
-
-        db.collection("Utenti").document(uid).set(user);
-
-        name.setText(user.getName());
-        surname.setText(user.getSurname());
-        phonenumber.setText(user.getPhoneNumber());
-        email.setText(user.getEmail());
-        points.setText(String.valueOf(user.getPoints()));
-        address.setText(user.getAddress());
-        rating.setText("0");
-
     }
-
-
-
-
-
-
-
-
-
-
-
-
 }
\ No newline at end of file
